# Lecture Notes: Computer Vision - Lecture 10

## Introduction

In this lecture, we explore image stitching and transformations, focusing on applications like creating gigapixel images, astronomical imaging, and neuroscience imaging. We delve into the mathematical foundations required to achieve seamless stitching and transformations, including translations, rotations, scaling, and homographies.

## Key Concepts

### Image Stitching and Applications

- **Image Stitching**: Combining multiple images to create a larger, high-resolution image.
  - Applications include:
    - 360-degree panoramic images.
    - Gigapixel images: High-resolution images created by stitching together numerous smaller images.
    - Astronomy: Creating composite images of celestial bodies, such as the Moon.
    - Neuroscience: Generating high-resolution brain images by stitching smaller mosaics.

### Mathematical Foundations

- **Cross-Correlation**: A technique to align images by finding the translation required to overlay them.
  - Works well for images with the same perspective.
  - Limitations arise when dealing with images of different perspectives.

- **Transformations**: Techniques to modify the position, orientation, or scale of images.

  #### Types of Transformations

  - **Translation**: Shifting an image in the x and y directions.
  - **Scaling**: Changing the size of an image. Represented by a matrix with scaling factors.
  - **Rotation**: Rotating an image around a point, typically the origin. Represented by a rotation matrix.
  - **Affine Transformations**: Combination of translation, scaling, and rotation. 
    - Defined by a matrix with six degrees of freedom.
  - **Homography**: A more general transformation that changes the perspective of an image.
    - Requires a 3x3 matrix, allowing for eight degrees of freedom.
    - Preserves straight lines but can alter parallelism and distance ratios.

### Mathematical Representation

- **Matrix Operations**: Representing transformations using matrices allows for linear operations.
  - Scaling and rotation can be expressed as matrix multiplications.
  - Affine transformations combine multiple operations into a single matrix.
  - Homographies require consideration of perspective and are represented by a 3x3 matrix.

- **Homogeneous Coordinates**: Adding an extra dimension to facilitate representation of various transformations, including translation.

### Transformation Invariance and Properties

- **Invariances**:
  - Origin remains at the origin for linear transformations.
  - Straight lines remain straight.
  - Parallel lines remain parallel.
  
- **Order of Operations**: The sequence of applying transformations matters due to matrix non-commutativity.

### Solving for Transformations

- **Key Point Matching**: Identifying corresponding points in different images to determine transformations.
  - Solving for transformation matrices involves setting up systems of equations based on matched key points.
  - Least squares optimization is used to find the best-fit transformation parameters.

### Interpolation and Image Warping

- **Interpolation**: Necessary when transformed image coordinates do not map to integer pixel positions.
  - **Nearest Neighbor**: Simplest method, can introduce artifacts.
  - **Bilinear Interpolation**: Uses weighted averages of neighboring pixels to determine values at non-integer positions.
 
- **Image Warping**: Adjusting images to fit a new coordinate system, essential for creating seamless mosaics.

## Summary

This lecture covered the principles and applications of image stitching and transformations. We discussed mathematical techniques for aligning and transforming images, the use of matrix operations to represent these transformations, and the importance of interpolation in creating seamless stitched images. Understanding these concepts is crucial for applications in various fields, including panoramic imaging, astronomy, and neuroscience.

## Action Items and Assignments

- **Project Work**: Apply the concepts learned to a project involving image stitching. Use cross-correlation and transformation matrices to achieve seamless image mosaics.
- **Further Reading**: Explore OpenCV's capabilities for solving homographies and image transformations.
- **Homework**: Solve transformation problems using key point matching and least squares optimization.

This concludes the lecture series on key point detection and geometric transformations. Please take a five-minute break before we continue with the next session.